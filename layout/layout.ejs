
<%
var pageTitle = page.title || config.subtitle || '';
if (is_archive()) pageTitle = 'Archives';
if (is_tag()) pageTitle = 'Tag: ' + page.tag;
if (is_category()) pageTitle = 'Category: ' + page.category;
if (is_month()) pageTitle += ': ' + page.month + '/' + page.year;
if (is_year()) pageTitle += ': ' + page.year;
pageTitle += ' [ ' + config.title + ' ]';
%>

<!DOCTYPE html>
<html lang="<%=config.language%>">
<head>
  <%- partial('_partials/head',{cache: true}) %>
</head>
<body>

  <div id="page">
    <%- partial('_partials/header',{cache: true}) %>
    <div id="main">
        <%- body %>
    </div>
    <%- partial('_partials/footer',{cache: true}) %>
  </div>


  <% if (theme.scripts !== undefined && theme.scripts.length > 0) { %>
    <!-- scripts list from theme config.yml -->
    <% theme.scripts.forEach(url => { %>
      <script src="<%=url%>"></script>
    <% }); %>
  <% } %>

  <!-- 一言API -->
  <!-- 现代写法，推荐 -->
  <!-- 兼容低版本浏览器 (包括 IE)，可移除 -->
  <script src="https://cdn.jsdelivr.net/npm/bluebird@3/js/browser/bluebird.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/whatwg-fetch@2.0.3/fetch.min.js"></script>
  <!--End-->
  <script>
  fetch('https://v1.hitokoto.cn?c=d&c=a&c=j')
      .then(function (res){
      return res.json();
      })
      .then(function (data) {
      var hitokoto = document.getElementById('hitokoto');
      hitokoto.innerText = data.hitokoto;
      })
      .catch(function (err) {
      console.error(err);
      })
  </script>

</body>
</html>
